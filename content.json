{"pages":[],"posts":[{"title":"从零开始搭建个人博客  -  使用hexo","date":"2020-11-15T04:37:50.374Z","path":"wiki/hexo搭建个人博客/","text":"Hexo是高效的静态网站生成框架，它基于Node.js，快速，简单且功能强大，是搭建博客的首选框架。准备：gcc、nodejs环境、git版本控制工具、hexo博客搭建工具说明：​ 1）在创建博客项目时需要使用hexo联网下载模板，下载模板时，是以git作为版本控制工具去下载的（使用的是git的https方式），所以需要提前安装好git版本控制工具​ 2）安装git又必须要有nodejs环境，所以在安装git前也需要先安装nodejs环境​ 3）安装git是用的源代码构建安装，在使用这种方式安装时又需要gcc，gcc是用于把C语言的源代码经过编译生成二进制的可执行程序，所以在进构建和安装前又需要先安装gcc。 安装步骤：一、安装nodejs环境1、下载nodejs的二进制文件​ wget是一个下载文件的工具，用于从网络上下载软件或者从远程服务器恢复备份到本地服务器​ 用法：wget 文件下载地址 -O 重命名​ wget https://sohu.com -O souhu.html 1[root@localhost ~]# wget https:&#x2F;&#x2F;nodejs.org&#x2F;dist&#x2F;v14.15.0&#x2F;node-v14.15.0-linux-x64.tar.xz 2、解压缩​ Usage: xz [OPTION]… [FILE]…​ 以.xz格式压缩或解压缩.xz文件。​ 参数：​ -z, –compress 强制压缩​ -d, –decompress 强制解压​ eg:​ xz -z test.txt 压缩文件​ xz -d test.txt.xz 解压文件 1[root@localhost ~]# xz -d node-v14.15.0-linux-x64.tar.xz 3、解归档​ 解归档：tar 参数 文件​ 参数：​ -x - eXtract - 提取​ -v - verbose - 显示详细过程​ -f - file - 指定待解归档的文件的名字​ eg:​ tar -xvf test.tar 1[root@localhost ~]# tar -xvf node-v14.15.0-linux-x64.tar 4、配置环境变量​ 因为下载的是二进制文件，所以在解压缩解归档后直接配置环境变量重新登录后就可以使用了。​ 1）进入nodejs文件的bin路径，pwd查看当前路径，复制当前路径；​ 2）使用vim打开/root/.bash_profile文件​ 3）将bin的路径添加到用户主目录下.bash_profile文件的PATH中(:bin路径)​ 具体步骤如下，详情见： 123456789[root@localhost ~]# cd node-v14.15.0-linux-x64&#x2F;bin&#x2F;[root@localhost bin]# pwd&#x2F;root&#x2F;node-v14.15.0-linux-x64&#x2F;bin[root@localhost bin]# vim &#x2F;root&#x2F;.bash_profile添加：PATH&#x3D;*****:&#x2F;root&#x2F;node-v14.15.0-linux-x64&#x2F;bin# 其中*****是文件中原有的，新添加只需要在后面加&#39;:&#39;并跟上路径，然后保存退出 关于vim如何使用，详见：https://www.runoob.com/linux/linux-vim.html 5、检查​ 配置好环境变量后输入exit退出登录，重新进入系统，查看node的版本号 12[root@localhost ~]# node --versionv14.15.0 二、源代码构建安装 git 版本控制工具1、下载1[root@localhost ~]# wget https:&#x2F;&#x2F;mirrors.edge.kernel.org&#x2F;pub&#x2F;software&#x2F;scm&#x2F;git&#x2F;git-2.26.2.tar.gz 2、解压缩解归档1[root@localhost ~]# tar -zxvf git-2.26.2.tar.gz 3、安装​ 进入解压后的文件夹，配置安装路径，/usr/local就是通常使用的安装路径（configure是一个可执行脚本，其中–prefix选项就是配置安装的路径） 12[root@localhost ~]# cd git-2.26.2&#x2F;[root@localhost git-2.26.2]# .&#x2F;configure prefix&#x3D;&#x2F;usr&#x2F;local 4、补充依赖项1[root@localhost git-2.26.2]# yum -y install zlib-devel libcurl libcurl-devel 5、先安装gcc编译器​ 解压和解归档完成后，如果未安装gcc，就先安装gcc，gcc是用于把C语言的源代码经过编译生成二进制的可执行程序的编译器。 1[root@localhost ~]# yum install -y gcc 6、构建和安装1[root@localhost git-2.26.2]# make &amp;&amp; make install 7、检查是否安装成功12[root@localhost git-2.26.2]# git --versiongit version 2.26.2 三、安装搭建博客的工具hexo1、更新 npm 的下载源​ npm是随同nodejs一起安装的包管理工具(Node Package Manager，即node包管理器) 1[root@localhost ~]# npm config set registry https:&#x2F;&#x2F;registry.npm.taobao.org&#x2F; 2、安装hexo​ 使用全局安装hexo-cli 1[root@localhost bin]# npm install -g hexo-cli 3、创建博客项目文件（联网下载模板，用到git）​ 联网下载模板使用的是版本控制工具git的https方式来下载，所以在进行这步前需要先确认git的https方式可用，否则这步不会成功，如果在安装git后发现https方式不可以，可以参考《解决git无法https连接的问题》这边文章 1[root@localhost ~]# hexo init blog 4、安装依赖项​ 下载好模板后进入blog路径，npm会根据blog目录中的package.json文件来安装hexo的依赖项。 1[root@localhost blog]# npm install 5、传内容到blog/sorce/_posts里(博客)​ 我这里是使用git bash传输文件到linux系统，在包含需要上传文件的文件夹中打开get bash，然后使用scp远程连接上传 1SCP test.md root@ip地址:需要上传到的目标文件夹路径 6、生成博客1[root@localhost blog]# hexo g 7、查看端口情况​ 博客要用到80端口（因为https协议默认走的是80端口），所以需要先看看80端口是否被占用了，如果被占用了就先结束该进程。使用netstat -ntlp来查看网络连接和端口占用情况-ntlp : 列出当前处于监听状态的TCP端口进程占用情况，其中参数:​ n —&gt; 表示数值，参数参数​ t —&gt; 表示TCP​ l —&gt; 表示list​ p —&gt; 表示进程 12[root@localhost blog]# netstat -ntlp[root@localhost blog]# systemctl stop nginx 8、运行服务器​ 运行服务器后就会有个地址，一般为：http://localhost:80，或者是自己的ip地址，打开地址就会显示我们在第5步传到系统里的文件的内容。​ 1）第一种运行方式：hexo s -p 80 – s:server p:port 1[root@localhost blog]# hexo s -p 80 ​ 2）第二种运行方式：上面命令输入回车后是在前台运行，如果想让其在后台运行，可以进一步修改。使用输出重定向 （&gt;）， 再加一个 &amp;将运行过程放到后台运行，如果想要结束这个进程，可以通过进程号（kill 进程号）或者使用fg %1将进程调到前台，使用ctrl+c来结束进程。 12[root@localhost blog]# hexo s -p 80 &gt; hexo.log 2&gt; hexo-error.log &amp;[1] 12853 ​ 3）使用第二种运行方式如何结束进程​ 第一种方式：直接kill进程 1[root@localhost blog]# kill 12853 ​ 第二种方式：先把服务调到前台，然后使用ctrl+c结束进程 12[root@localhost blog]# fg %1[root@localhost blog]# ctrl+c 四、页面定制1、修改页面主标题​ 进入blog目录下的_config.yml文件，修改#site下面的title值，这个值就是你需要网页展现的主标题。 1234567cd &#x2F;root&#x2F;blogvim _config.yml# 修改内容title: &#39;新标题&#39;保存退出 2、修改页面主题​ 进入themes使用git克隆下载主题，然后修改blog下的_config.yml中theme的值，保存后重新运行服务器 123[root@A1 blog]# vim _config.yml theme: 新主题名 ---- 注意在&#39;:&#39;的后面有空格 3、修改博客标题​ 在博客文件的开头加入以下内容，注意:后面有空格 123---title: 标题--- 五、使用github仓库1、创建GitHub仓库如何创建仓库请参考官方文档：https://docs.github.com/cn/free-pro-team@latest/github/getting-started-with-github/create-a-repo，有一个需要注意的点，就是在创建的时候一定要注意repository name的结构：用户名.github.io，不然后面可能会出错哦 2）在Linux下修改配置文件_config.yml 使用vim打开_config.yml文件，拉到106行（:set nu 设置行号），按照下面的内容进行修改 1234567891011# 原文件deploy: type: &#39;&#39;# 修改后的文件deploy: type: &#39;git&#39; repo: &#39;https:&#x2F;&#x2F;github.com&#x2F;用户名&#x2F;用户名.github.io.git&#39; branch: &#39;master&#39; # 注意：这里的用户名是你自己的GitHub用户名 2、安装插件1[root@A1 blog]# npm install hexo-deployer-git --save 3、生成并部署博客1[root@A1 blog]# hexo g -d 4、打开博客首页进入浏览器，在地址栏输入用户名.github.io，就进入博客页面了注：这里的用户名指的均为在github上的用户名 六、使用域名 – 不需要备案七、使用域名 - 需要备案","tags":[],"categories":[]},{"title":"Hello World","date":"2020-11-14T08:51:04.210Z","path":"wiki/hello-world/","text":"Welcome to Hexo! This is your very first post. Check documentation for more info. If you get any problems when using Hexo, you can find the answer in troubleshooting or you can ask me on GitHub. Quick StartCreate a new post1$ hexo new &quot;My New Post&quot; More info: Writing Run server1$ hexo server More info: Server Generate static files1$ hexo generate More info: Generating Deploy to remote sites1$ hexo deploy More info: Deployment","tags":[],"categories":[]}],"categories":[],"tags":[]}